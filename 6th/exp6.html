<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Array Operations</title>
    <style>
        body {
            display: flex;
            justify-content: center;
        }

        .container {
            border: 2px solid rgba(0, 0, 0, 0.24);
            width: 500px;
            padding: 10px;
            text-align: center;
        }

        button {
            margin: 10px auto;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2>Array Operations</h2>
        Name: <strong>Harshwardhan Sawant</strong> | Roll No: <strong>42158</strong><br><br>

        <h3>Enter size of array:</h3>
        <input type="number" id="size" min="1" placeholder="e.g. 5">
        <button onclick="setSize()">Set Size</button>
        <div id="sizeOutput"></div>

        <h3>Enter array element:</h3>
        <input type="number" id="appendInput">
        <button onclick="appendElement()">Add to Array</button>
        <div id="appendOutput"></div>

        <h3>Remove Element</h3>
        <input type="number" id="removeVal" placeholder="Value to remove">
        <button onclick="removeValFunc(false)">Remove (Normal)</button>
        <button onclick="removeValFunc(true)">Remove (Splice)</button><br>
        <p id="removeMsg"></p>

        <h3>Search Element</h3>
        <input type="number" id="searchVal" placeholder="Value to search">
        <button onclick="search(false)">Search (Linear)</button>
        <button onclick="search(true)">Search (Includes)</button><br>
        <p id="searchMsg"></p>

        <h3>Empty Array</h3>
        <button onclick="empty(false)">Empty (Normal)</button>
        <button onclick="empty(true)">Empty (Splice)</button><br>
        <p id="emptyMsg"></p>

        <strong>Current Array:</strong>
        <p id="arrDisplay">[]</p>
    </div>

    <script>
        let arr = [];
        let maxSize = 0;

        function setSize() {
            maxSize = parseInt(document.getElementById("size").value);
            if(isNaN(maxSize) || maxSize <= 0){
                document.getElementById("sizeOutput").innerHTML = "Enter valid size.";
                return;
            }
            arr = [];
            document.getElementById("arrDisplay").innerHTML = JSON.stringify(arr, null, 2);
            document.getElementById("sizeOutput").innerHTML = "Array size set to " + maxSize;
        }

        function appendElement() {
            if (arr.length >= maxSize) {
                document.getElementById("appendOutput").innerHTML = "Array is full. Cannot add more items.";
                return;
            }

            let input = parseInt(document.getElementById("appendInput").value);
            if(isNaN(input)){
                document.getElementById("appendOutput").innerHTML = "Enter valid number.";
                return;
            }

            arr.push(input);
            document.getElementById("appendOutput").innerHTML = `${input} added successfully.`;
            document.getElementById("arrDisplay").innerHTML = JSON.stringify(arr, null, 2);
            document.getElementById("appendInput").value = "";
        }

        function removeValFunc(useSplice) {
            const val = +document.getElementById("removeVal").value;
            const msg = document.getElementById("removeMsg");

            if (isNaN(val)) {
                msg.textContent = "Enter valid number.";
                return;
            }

            const exists = arr.includes(val);
            if (!exists) {
                msg.textContent = `${val} not found.`;
                return;
            }

            if (useSplice) {
                const idx = arr.indexOf(val);
                arr.splice(idx, 1);
            } else {
                arr = arr.filter(x => x !== val);
            }

            document.getElementById("arrDisplay").textContent = JSON.stringify(arr);
            msg.textContent = `Removed ${val}`;
        }

        function search(useIncludes) {
            const val = +document.getElementById("searchVal").value;
            const msg = document.getElementById("searchMsg");
            if (isNaN(val)) {
                msg.textContent = "Enter valid number.";
                return;
            }
            let found = false;
            let idx = -1;
            if (useIncludes) {
                idx = arr.indexOf(val);
                found = arr.includes(val);
            } else {
                for (let i = 0; i < arr.length; i++) {
                    if (arr[i] === val) {
                        found = true;
                        idx = i;
                        break;
                    }
                }
            }
            msg.textContent = found ? `Found at index ${idx}` : "Not found.";
        }

        function empty(useSplice) {
            const msg = document.getElementById("emptyMsg");
            if (useSplice) arr.splice(0);
            else arr = [];

            document.getElementById("arrDisplay").textContent = JSON.stringify(arr);
            msg.textContent = useSplice ? "Emptied using splice." : "Emptied normally.";
        }
    </script>
</body>

</html>